#ifndef DIAG_H_INCLUDED
#define DIAG_H_INCLUDED

#include "Result.h"
#include "Test_items.h"
#include "gpclib.h"

#ifdef	__cplusplus
extern "C" {
#endif	//__cplusplus

#define VER		0x0001

#define Conn(x,y) x##y
#define ToString(x) #x

#define ARRAYCNT(arry)	sizeof((arry))/sizeof((arry[0]))

#define STR_FUN_RES_SUCC "FUN_RES_SUCC"
#define STR_FUN_RES_FAIL "FUN_RES_FAIL"


#define ITEM_MAP(item)	{0,{item , ToString(item),NULL,},Conn(fun_,item)}


//defination for test case
typedef int(*TEST_CASE_FUN)();

//defination for result log
typedef struct _tagRESULT_LOG
{
    int			testid;			//identify number for test case
	char		strItem[16];		//Test case name like "T010001"
	PRESULT		pResult;		//test result
}RESULT_LOG,*PRESULT_LOG;

typedef struct _tagTEST_ACTION
{
	int					id;
    RESULT_LOG			resultlog;
    TEST_CASE_FUN		pfn_testfun;
	//int					attrib;
}TEST_ACTION,*PTEST_ACTION;

typedef struct _tagDIAGINFO
{
	char				ver_main;
	char				ver_sub;
	char				ver_edition;
	int				autoItems;
	int				manuItems;
	int				totalItems;		//Total Test Item(totalAuto+totalManu)
	//PRESULT_LOG		pResultLogs;
	pthread_t		autotest_thread_id;
	pthread_t		ftpUpload_thread_id;
	int				bFinalAuto;
	int				bFinalManu;
	int				bFinalDipswitch;
	int				bStopUpload;
	unsigned int	xres;
	unsigned int	yres;
	unsigned int	bits_per_pixel;
	char			szBarCode[128];	//BarCode for log filename
	char			szFTPFileName[128];
}DIAGINFO,*PDIAGINFO;

#define PACKAGE_START 1000000

enum
{
	T01001001=1,
	T01001002,
	T01001003,
	T01001004,
	T01001005,
	T01001006,
	T01001007,
	T01001008,
	T01001009,
	T01001010,
	T01002001,
	T01002002,
	T01002003,
	T01002004,
	T01002005,
	T01002006,
	T01002007,
	T01002008,
	T01002009,
	T01002010,
	T01003001,
	T01003002,
	T01003003,
	T01003004,
	T01003005,
	T01003006,
	T01003007,
	T01003008,
	T01003009,
	T01003010,
	T01004001,
	T01004002,
	T01004003,
	T01004004,
	T01004005,
	T01004006,
	T01004007,
	T01004008,
	T01004009,
	T01004010,
	T01005001,
	T01005002,
	T01005003,
	T01005004,
	T01005005,
	T01005006,
	T01005007,
	T01005008,
	T01005009,
	T01005010,
	T01006001,
	T01006002,
	T01006003,
	T01006004,
	T01006005,
	T01006006,
	T01006007,
	T01006008,
	T01006009,
	T01006010,
	T01007001,
	T01007002,
	T01007003,
	T01007004,
	T01007005,
	T01007006,
	T01007007,
	T01007008,
	T01007009,
	T01007010,
	T01008001,
	T01008002,
	T01008003,
	T01008004,
	T01008005,
	T01008006,
	T01008007,
	T01008008,
	T01008009,
	T01008010,
	T01009001,
	T01009002,
	T01009003,
	T01009004,
	T01009005,
	T01009006,
	T01009007,
	T01009008,
	T01009009,
	T01009010,
	T01010001,
	T01010002,
	T01010003,
	T01010004,
	T01010005,
	T01010006,
	T01010007,
	T01010008,
	T01010009,
	T01010010,
	T01011001,
	T01011002,
	T01011003,
	T01011004,
	T01011005,
	T01011006,
	T01011007,
	T01011008,
	T01011009,
	T01011010,
	T01012001,
	T01012002,
	T01012003,
	T01012004,
	T01012005,
	T01012006,
	T01012007,
	T01012008,
	T01012009,
	T01012010,
	T01013001,
	T01013002,
	T01013003,
	T01013004,
	T01013005,
	T01013006,
	T01013007,
	T01013008,
	T01013009,
	T01013010,
	T01014001,
	T01014002,
	T01014003,
	T01014004,
	T01014005,
	T01014006,
	T01014007,
	T01014008,
	T01014009,
	T01014010,
	T01015001,
	T01015002,
	T01015003,
	T01015004,
	T01015005,
	T01015006,
	T01015007,
	T01015008,
	T01015009,
	T01015010,
	T01016001,
	T01016002,
	T01016003,
	T01016004,
	T01016005,
	T01016006,
	T01016007,
	T01016008,
	T01016009,
	T01016010,
	T01017001,
	T01017002,
	T01017003,
	T01017004,
	T01017005,
	T01017006,
	T01017007,
	T01017008,
	T01017009,
	T01017010,
	T01020001,
	T01020002,
	T01020003,
	T01020004,
	T01021001,
	T01021002,
	T01021003,
	T01021004,
	T01023001,
	T02001001,
	T02001002,
	T02001003,
	T02001004,
	T02001005,
	T02001006,
	T02001007,
	T02001008,
	T02001009,
	T02001010,
	T02002001,
	T02002002,
	T02002003,
	T02002004,
	T02002005,
	T02002006,
	T02002007,
	T02002008,
	T02002009,
	T02002010,
	T02003001,
	T02003002,
	T02003003,
	T02003004,
	T02003005,
	T02003006,
	T02003007,
	T02003008,
	T02003009,
	T02003010,
	T02004001,
	T02004002,
	T02004003,
	T02004004,
	T02004005,
	T02004006,
	T02004007,
	T02004008,
	T02004009,
	T02004010,
	T02005001,
	T02005002,
	T02005003,
	T02005004,
	T02005005,
	T02005006,
	T02005007,
	T02005008,
	T02005009,
	T02005010,
	T02006001,
	T02006002,
	T02006003,
	T02006004,
	T02006005,
	T02006006,
	T02006007,
	T02006008,
	T02006009,
	T02006010,
	T02007001,
	T02007002,
	T02007003,
	T02007004,
	T02007005,
	T02007006,
	T02007007,
	T02007008,
	T02007009,
	T02007010,
	T02008001,
	T02008002,
	T02008003,
	T02008004,
	T02008005,
	T02008006,
	T02008007,
	T02008008,
	T02008009,
	T02008010,
	T02009001,
	T02009002,
	T02009003,
	T02009004,
	T02009005,
	T02009006,
	T02009007,
	T02009008,
	T02009009,
	T02009010,
	T02010001,
	T02010002,
	T02010003,
	T02010004,
	T02010005,
	T02010006,
	T02010007,
	T02010008,
	T02010009,
	T02010010,
	T02011001,
	T02011002,
	T02011003,
	T02011004,
	T02011005,
	T02011006,
	T02011007,
	T02011008,
	T02011009,
	T02011010,
	T02012001,
	T02012002,
	T02012003,
	T02012004,
	T02012005,
	T02012006,
	T02012007,
	T02012008,
	T02012009,
	T02012010,
	T02013001,
	T02013002,
	T02013003,
	T02013004,
	T02013005,
	T02013006,
	T02013007,
	T02013008,
	T02013009,
	T02013010,
	T02014001,
	T02014002,
	T02014003,
	T02014004,
	T02014005,
	T02014006,
	T02014007,
	T02014008,
	T02014009,
	T02014010,
	T02015001,
	T02015002,
	T02015003,
	T02015004,
	T02015005,
	T02015006,
	T02015007,
	T02015008,
	T02015009,
	T02015010,
	T02016001,
	T02016002,
	T02016003,
	T02016004,
	T02016005,
	T02016006,
	T02016007,
	T02016008,
	T02016009,
	T02016010,
	T02017001,
	T02017002,
	T02017003,
	T02017004,
	T02017005,
	T02017006,
	T02017007,
	T02017008,
	T02017009,
	T02017010,	
	T02017011,	
	T02017012,	
	T02017013,	
	T02017014,	
	T02017015,
	T02017016,
	T02017017,
	T02017018,
	T02017019,
	T02017020,
	T02017021,
	T02017022,
	T02017023,
	T02017024,
	T02017025,
	T02017026,
	T02017027,
	T02017028,
	T02017029,
	T02017030,
	T02017031,
	T02017032,
	T02017033,
	T02017034,
	T02017035,
	T02017036,
	T02017037,
	T02017038,
	T02018001,
	T02018002,
	T02018003,
	T02018004,
	T02018005,
	T02018006,
	T02018007,
	T02018008,
	T02018009,
	T02018010,
	T02019001,
	T02019002,
	T02019003,
	T02019004,
	T02019005,
	T02019006,
	T02019007,
	T02019008,
	T02019009,
	T02019010,
	T02020001,
	T02020002,
	T02020003,
	T02020004,
	T02020005,
	T02020006,
	T02020007,
	T02020008,
	T02020009,
	T02020010,
	T02021001,
	T02021002,
	T02021003,
	T02021004,
	T02021005,
	T02021006,
	T02021007,
	T02021008,
	T02021009,
	T02021010,
	T02022001,
	T02022002,
	T02022003,
	T01019001,
	T01019002,
	T01022001,
	T01024001,
	T01024002,
};

#ifdef	__cplusplus
}
#endif	//__cplusplus

#endif // EIT_H_INCLUDED
